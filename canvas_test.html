<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="initial-width=device-width">
	
<!--
	<meta property="og:image" content="http://cdn1.umg3.net/wp3/jacktopping-ww-cdn/album_cover.jpg"/>
	<meta property="og:title" content="Jack Topping | Wonderful World"/>
	<meta property="og:description" content="I've just visited Jack Topping's Wonderful World memory map. Come have a look and join Jack's journey."/>
	<meta property="og:site_name" content="Jack Topping | Wonderful World"/>
	<meta property="og:type" content="website"/>
-->

	<title>Team Reindeer - Destroying the World!</title>
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="http://jacktopping-ww.dev-umg-uk-wp3.com/xmlrpc.php">
	<link rel='stylesheet' href='style.css' type='text/css' media='all' />
   

</head>

<body class="home blog custom-font-enabled single-author">
	<div id="page" class="hfeed site">
<p>Canvas<canvas id="myCanvas" width="578" height="200"/></p>
<p><button id="btn_save" type="button">save image</button></p>

		<div id="main" class="site-main">

	<div id="primary" class="content-area">
	
	</div><!-- #primary -->


	
	</div>
	
</div><!-- #page -->

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript">

$(document).ready(function() {

	var canvas = document.getElementById('myCanvas');
	var context = canvas.getContext('2d');

	      
	context.beginPath();
	context.moveTo(0,0)
	context.lineTo(0,300);
	context.lineTo(300,300);
	context.lineTo(300,0);
	//context.fillStyle = "#FF0000" 
	//context.fill();
	var imageObj = new Image();
	function drawPattern() {
	   var pattern = context.createPattern(imageObj, "repeat");
	   context.fillStyle = pattern;
	   context.fill();
	}
	imageObj.onload = drawPattern;
	imageObj.src = "images/280px-PNG_transparency_demonstration_1.png"; //transparent png
  
	

	$('#btn_save').click(function() {
		var pngUrl = canvas.toDataURL("image/png");
/* 		var image_thing = $('<img />'); 
		image_thing.attr('src', pngUrl);
		$('#page').append(image_thing);
*/
		console.log(pngUrl);
		$.ajax({
		    type: "POST",
		    url: "save_monster.php?",
		    data: {text: 'sas', monster_image: pngUrl, lat: '50', lon: '20'},
		    contentType: "application/x-www-form-urlencoded;charset=UTF-8",
		    success: function(){
		        console.log('done');
		    }
		});
		
	});

/*

	make_base();
	
	function make_base()
	{
	  base_image = new Image();
	  base_image.src = 'image/glasses.png';
	  base_image.onload = function(){
	    context.drawImage(base_image, 100, 100);
	  }
	}
*/



});

</script>
	</body>
</html>